(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[678],{86006:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/employee",function(){return t(48045)}])},84362:function(e,n,t){"use strict";t.d(n,{Z:function(){return I}});var i=t(85893),r=t(97183),s=r.Z.Footer,a=function(){return(0,i.jsx)(s,{style:{textAlign:"center"},children:"Sistem Monitoring Teknisi Lapangan"})},o=t(68157),c=t(71230),l=t(15746),d=t(74622),u=t(13013),h=t(86871),x=t(92443),p=t(11163),f=(0,i.jsx)(o.Z,{children:(0,i.jsx)(o.Z.Item,{style:{paddingRight:30,borderTop:"1px solid rgba(0,0,0,.06)"},icon:(0,i.jsx)(x.Z,{style:{color:"#ff4d4f"}}),children:(0,i.jsx)("a",{rel:"noopener noreferrer",onClick:function(){sessionStorage.clear(),p.default.push("/auth")},children:"Logout"})})}),j=r.Z.Header,m=function(){return(0,i.jsx)(j,{style:{position:"fixed",zIndex:1,width:"100%",backgroundColor:"#fff",padding:"0 24px"},children:(0,i.jsxs)(c.Z,{justify:"space-between",align:"middle",children:[(0,i.jsx)(l.Z,{span:8,children:(0,i.jsx)("div",{className:"logo",children:(0,i.jsxs)(d.Z.Title,{level:4,style:{marginBottom:0},children:[(0,i.jsx)("span",{style:{color:"#3498db"},children:"Monitoring"})," Teknisi lapangan"]})})}),(0,i.jsx)(l.Z,{span:8,style:{textAlign:"right"},children:(0,i.jsx)(u.Z,{overlay:f,placement:"topRight",children:(0,i.jsx)(h.C,{style:{color:"#f56a00",backgroundColor:"#fde3cf",cursor:"pointer"},children:"U"})})})]})})},g=t(67294),y=t(47235),Z=t(41664),v=r.Z.Sider,k=o.Z.SubMenu,b=["dashboard"],_=function(){var e=(0,g.useState)(["dashboard"]),n=e[0],t=e[1],r=(0,p.useRouter)();return(0,g.useEffect)((function(){"true"!=sessionStorage.getItem("isLogin")&&r.push("/auth")})),(0,i.jsx)(v,{style:{overflow:"auto",height:"100vh",position:"fixed",left:0},children:(0,i.jsx)(o.Z,{theme:"dark",mode:"inline",defaultSelectedKeys:["dashboard_dashboard"],style:{paddingTop:"calc(63px + 10px)"},openKeys:n,onOpenChange:function(e){var i=e.find((function(e){return-1===n.indexOf(e)}));-1===b.indexOf(i)?t(e):t(i?[i]:[])},children:(0,i.jsxs)(k,{icon:(0,i.jsx)(y.Z,{}),title:"Dashboard",children:[(0,i.jsx)(o.Z.Item,{children:(0,i.jsx)(Z.default,{href:"/dashboard",children:(0,i.jsx)("a",{children:"Dashboard"})})},"dashboard_dashboard"),(0,i.jsx)(o.Z.Item,{title:"employee",children:(0,i.jsx)(Z.default,{href:"/employee",children:(0,i.jsx)("a",{children:"Employee"})})},"employee_employee")]},"dashboard")})})},I=function(e){var n=e.children;return(0,i.jsxs)(r.Z,{children:[(0,i.jsx)(m,{}),(0,i.jsxs)(r.Z,{style:{marginLeft:200},children:[(0,i.jsx)(_,{}),(0,i.jsxs)(r.Z,{children:[n,(0,i.jsx)(a,{})]})]})]})}},48045:function(e,n,t){"use strict";t.r(n);var i=t(28520),r=t.n(i),s=t(85893),a=t(97183),o=t(86871),c=t(20550),l=t(26713),d=t(36084),u=t(42101),h=t(58492),x=t(45594),p=t(71230),f=t(15746),j=t(12979),m=t(48669),g=t(64026),y=t(9008),Z=t(87547),v=t(48689),k=t(86548),b=t(1912),_=t(77171),I=t(23430),w=t(24969),A=t(84362),E=t(11163),C=t(67294),S=t(9669),T=t.n(S),N=t(46737),D=t.n(N);function M(e,n,t,i,r,s,a){try{var o=e[s](a),c=o.value}catch(l){return void t(l)}o.done?n(c):Promise.resolve(c).then(i,r)}var L=a.Z.Content;n.default=function(){var e,n=(0,E.useRouter)(),t=(0,C.useState)([]),i=t[0],a=t[1],S=[{title:"Avatar",dataIndex:"avatar",key:"avatar",render:function(e){return(0,s.jsx)(o.C,{size:"large",icon:(0,s.jsx)(Z.Z,{})})}},{title:"Name",dataIndex:"name",key:"name",render:function(e){return(0,s.jsx)("a",{children:e})}},{title:"Address",dataIndex:"address",key:"address"},{title:"jobdesk",dataIndex:"jobdesk",key:"address"},{title:"status",key:"is_active",dataIndex:"is_active",render:function(e){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(c.Z,{color:1==e?"#2ecc71":"#e74c3c",children:"1"==e?"Active":"In Active"},1==e?"Active":"In Active")})}},{title:"action",key:"action",render:function(e,t){return(0,s.jsx)("div",{style:{textAlign:"center"},children:(0,s.jsxs)(l.Z,{children:[(0,s.jsx)(d.Z,{title:"Hapus",children:(0,s.jsx)(u.Z,{type:"primary",shape:"circle",icon:(0,s.jsx)(v.Z,{}),onClick:function(){var e;e=t.code,console.log(e),D()({title:"Are you sure?",text:"Data Akan Dihapus",icon:"warning",dangerMode:!0}).then((function(n){n&&T().delete("/api/employees/".concat(e)).then((function(e){N(),D()("Data di hapus",{icon:"success"})})).catch((function(e){console.log(e),D()("Data tidak berhasil dihapus",{icon:"error"})}))}))},danger:!0})}),(0,s.jsx)(d.Z,{title:"Ubah",children:(0,s.jsx)(u.Z,{onClick:function(){n.push({pathname:"/employee/edit/[code]",query:{code:t.code,name:t.name,access:t.access,address:t.address,is_active:t.is_active,jobdesk:t.jobdesk,username:t.username,phone:t.phone}})},shape:"circle",icon:(0,s.jsx)(k.Z,{})})})]})})}}],N=(e=r().mark((function e(){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T().get("/api/employees");case 2:n=e.sent,a(n.data.entriesData);case 4:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(i,r){var s=e.apply(n,t);function a(e){M(s,i,r,a,o,"next",e)}function o(e){M(s,i,r,a,o,"throw",e)}a(void 0)}))});return(0,C.useEffect)((function(){N()}),[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(y.default,{children:[(0,s.jsx)("title",{children:"Monitoring - Employee"}),(0,s.jsx)("meta",{name:"description",content:"Monitoring Teknisi Lapangan"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsx)(A.Z,{children:(0,s.jsxs)("div",{style:{padding:"0 24px",marginTop:88},children:[(0,s.jsxs)(h.Z,{children:[(0,s.jsx)(h.Z.Item,{children:"Home"}),(0,s.jsx)(h.Z.Item,{children:"Employee"})]}),(0,s.jsx)(x.Z,{className:"site-page-header",title:"Employee",subTitle:"Kelola Employee",style:{padding:0,paddingBottom:16}}),(0,s.jsxs)(L,{className:"site-layout",children:[(0,s.jsx)("div",{style:{marginBottom:24},children:(0,s.jsxs)(p.Z,{gutter:16,children:[(0,s.jsx)(f.Z,{span:8,children:(0,s.jsx)(j.Z,{children:(0,s.jsx)(m.Z,{title:"Total",value:i.length,valueStyle:{color:"#3f8600"},prefix:(0,s.jsx)(Z.Z,{})})})}),(0,s.jsx)(f.Z,{span:8,children:(0,s.jsx)(j.Z,{children:(0,s.jsx)(m.Z,{title:"Aktif",value:i.filter((function(e){return 1==e.is_active})).length,valueStyle:{color:"#3f8600"},prefix:(0,s.jsx)(b.Z,{})})})}),(0,s.jsx)(f.Z,{span:8,children:(0,s.jsx)(j.Z,{children:(0,s.jsx)(m.Z,{title:"Inaktif",value:i.filter((function(e){return 0==e.is_active})).length,valueStyle:{color:"#cf1322"},prefix:(0,s.jsx)(_.Z,{})})})})]})}),(0,s.jsxs)("div",{className:"site-layout-background",style:{padding:24,minHeight:"calc(100vh - (24px + 24px + 24px + 64px))"},children:[(0,s.jsx)("div",{style:{marginBottom:24,textAlign:"right"},children:(0,s.jsxs)(l.Z,{children:[(0,s.jsx)(u.Z,{icon:(0,s.jsx)(I.Z,{}),children:"Report .pdf"}),(0,s.jsx)(u.Z,{type:"primary",onClick:function(){return n.push("/employee/create")},icon:(0,s.jsx)(w.Z,{}),children:"Employee"})]})}),(0,s.jsx)(g.Z,{columns:S,dataSource:i})]})]})]})})]})}}},function(e){e.O(0,[709,864,183,247,40,774,888,179],(function(){return n=86006,e(e.s=n);var n}));var n=e.O();_N_E=n}]);