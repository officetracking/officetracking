(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[37],{26153:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/employee/edit/[code]",function(){return s(75168)}])},84362:function(e,n,s){"use strict";s.d(n,{Z:function(){return I}});var a=s(85893),r=s(97183),i=r.Z.Footer,t=function(){return(0,a.jsx)(i,{style:{textAlign:"center"},children:"Sistem Monitoring Teknisi Lapangan"})},l=s(68157),o=s(71230),d=s(15746),c=s(74622),u=s(13013),h=s(86871),m=s(92443),f=s(11163),p=(0,a.jsx)(l.Z,{children:(0,a.jsx)(l.Z.Item,{style:{paddingRight:30,borderTop:"1px solid rgba(0,0,0,.06)"},icon:(0,a.jsx)(m.Z,{style:{color:"#ff4d4f"}}),children:(0,a.jsx)("a",{rel:"noopener noreferrer",onClick:function(){sessionStorage.clear(),f.default.push("/auth")},children:"Logout"})})}),x=r.Z.Header,j=function(){return(0,a.jsx)(x,{style:{position:"fixed",zIndex:1,width:"100%",backgroundColor:"#fff",padding:"0 24px"},children:(0,a.jsxs)(o.Z,{justify:"space-between",align:"middle",children:[(0,a.jsx)(d.Z,{span:8,children:(0,a.jsx)("div",{className:"logo",children:(0,a.jsxs)(c.Z.Title,{level:4,style:{marginBottom:0},children:[(0,a.jsx)("span",{style:{color:"#3498db"},children:"Monitoring"})," Teknisi lapangan"]})})}),(0,a.jsx)(d.Z,{span:8,style:{textAlign:"right"},children:(0,a.jsx)(u.Z,{overlay:p,placement:"topRight",children:(0,a.jsx)(h.C,{style:{color:"#f56a00",backgroundColor:"#fde3cf",cursor:"pointer"},children:"U"})})})]})})},g=s(67294),v=s(47235),y=s(41664),Z=r.Z.Sider,b=l.Z.SubMenu,k=["dashboard"],w=function(){var e=(0,g.useState)(["dashboard"]),n=e[0],s=e[1],r=(0,f.useRouter)();return(0,g.useEffect)((function(){"true"!=sessionStorage.getItem("isLogin")&&r.push("/auth")})),(0,a.jsx)(Z,{style:{overflow:"auto",height:"100vh",position:"fixed",left:0},children:(0,a.jsx)(l.Z,{theme:"dark",mode:"inline",defaultSelectedKeys:["dashboard_dashboard"],style:{paddingTop:"calc(63px + 10px)"},openKeys:n,onOpenChange:function(e){var a=e.find((function(e){return-1===n.indexOf(e)}));-1===k.indexOf(a)?s(e):s(a?[a]:[])},children:(0,a.jsxs)(b,{icon:(0,a.jsx)(v.Z,{}),title:"Dashboard",children:[(0,a.jsx)(l.Z.Item,{children:(0,a.jsx)(y.default,{href:"/dashboard",children:(0,a.jsx)("a",{children:"Dashboard"})})},"dashboard_dashboard"),(0,a.jsx)(l.Z.Item,{title:"employee",children:(0,a.jsx)(y.default,{href:"/employee",children:(0,a.jsx)("a",{children:"Employee"})})},"employee_employee")]},"dashboard")})})},I=function(e){var n=e.children;return(0,a.jsxs)(r.Z,{children:[(0,a.jsx)(j,{}),(0,a.jsxs)(r.Z,{style:{marginLeft:200},children:[(0,a.jsx)(w,{}),(0,a.jsxs)(r.Z,{children:[n,(0,a.jsx)(t,{})]})]})]})}},75168:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return q}});var a=s(28520),r=s.n(a),i=s(85893),t=s(97183),l=s(17054),o=s(12461),d=s(58492),c=s(45594),u=s(71230),h=s(15746),m=s(42101),f=s(9008),p=s(84362),x=s(41664),j=s(11163),g=s(67294),v=s(9669),y=s.n(v),Z=s(74622),b=s(28114),k=s(68863),w=Z.Z.Title,I=b.Z.Option,_=[(0,i.jsx)(I,{value:"admin",children:"Admin"},"admin"),(0,i.jsx)(I,{value:"reguler",children:"Reguler"},"reguler")],E=[(0,i.jsx)(I,{value:"1",children:"Active"},"1"),(0,i.jsx)(I,{value:"0",children:"Inactive"},"0")];function T(e){console.log("Selected: ".concat(e))}var C=function(e){var n=e.form,s=e.onFinish,a=e.onFinishFailed,r=e.code,t=e.name,o=e.jobdesk,d=e.phone,c=e.address,u=e.username,h=e.password,m=e.access,f=e.is_active;return(0,g.useEffect)((function(){}),[]),(0,i.jsxs)(l.Z,{layout:"vertical",name:"information",labelCol:{span:8},wrapperCol:{span:12},initialValues:{remember:!0},onFinish:s,onFinishFailed:a,autoComplete:"off",form:n,children:[(0,i.jsx)(w,{level:4,children:"Informasi Pribadi"}),(0,i.jsx)(l.Z.Item,{label:"kode Pegawai",name:"code",rules:[{required:!0,message:"Masukkan kode pegawai!"}],children:(0,i.jsx)(k.Z,{defaultValue:r})}),(0,i.jsx)(l.Z.Item,{label:"Nama",name:"name",rules:[{required:!0,message:"Masukkan nama pegawai!"}],children:(0,i.jsx)(k.Z,{value:t,defaultValue:t})}),(0,i.jsx)(l.Z.Item,{label:"Jobdesk",name:"jobdesk",rules:[{required:!0,message:"Masukkan jobdesk pegawai!"}],children:(0,i.jsx)(k.Z,{name:"jobdesk",value:o,defaultValue:o,onChange:function(){}})}),(0,i.jsx)(l.Z.Item,{label:"Telepon",name:"phone",rules:[{required:!0,message:"Masukkan nomor telepon!"}],children:(0,i.jsx)(k.Z,{defaultValue:d})}),(0,i.jsx)(l.Z.Item,{label:"Alamat",name:"address",rules:[{required:!0,message:"Masukkan alamat!"}],children:(0,i.jsx)(k.Z.TextArea,{rows:3,defaultValue:c})}),(0,i.jsx)(w,{level:4,children:"Informasi Akun"}),(0,i.jsx)(l.Z.Item,{label:"Username",name:"username",rules:[{required:!0,message:"masukan Username!"}],children:(0,i.jsx)(k.Z,{defaultValue:u})}),(0,i.jsx)(l.Z.Item,{label:"password",name:"password",rules:[{required:!0,message:"Masukan Password!"}],children:(0,i.jsx)(k.Z.Password,{defaultValue:h})}),(0,i.jsx)(l.Z.Item,{label:"Akses",name:"access",rules:[{required:!0,message:"Pilih Access"}],children:(0,i.jsx)(b.Z,{size:"middle",defaultValue:m,placeholder:"Please select",onChange:T,style:{width:"100%"},children:_})}),(0,i.jsx)(l.Z.Item,{label:"Status",name:"is_active",rules:[{required:!0,message:"Pilih Status"}],children:(0,i.jsx)(b.Z,{size:"middle",defaultValue:f,placeholder:"Please select",onChange:T,style:{width:"100%"},children:E})})]})};function P(e,n,s,a,r,i,t){try{var l=e[i](t),o=l.value}catch(d){return void s(d)}l.done?n(o):Promise.resolve(o).then(a,r)}function S(e){return function(){var n=this,s=arguments;return new Promise((function(a,r){var i=e.apply(n,s);function t(e){P(i,a,r,t,l,"next",e)}function l(e){P(i,a,r,t,l,"throw",e)}t(void 0)}))}}function A(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var s=[],a=!0,r=!1,i=void 0;try{for(var t,l=e[Symbol.iterator]();!(a=(t=l.next()).done)&&(s.push(t.value),!n||s.length!==n);a=!0);}catch(o){r=!0,i=o}finally{try{a||null==l.return||l.return()}finally{if(r)throw i}}return s}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var N=t.Z.Content;var q=function(){var e=(0,j.useRouter)(),n=A(l.Z.useForm(),1)[0],s=(0,g.useState)(!1),a=s[0],t=s[1],v=(0,g.useState)([]),Z=(v[0],v[1],e.query),b=Z.code,k=Z.name,w=Z.address,I=Z.access,_=Z.is_active,E=Z.username,T=Z.phone,P=Z.jobdesk,q=S(r().mark((function n(s){var a;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=o.ZP.loading("Action in progress..",0),t(!0),n.next=4,y().put("/api/employees/".concat(s.code),{code:s.code,name:s.name,jobdesk:s.jobdesk,phone:s.phone,address:s.address,password:s.password,username:s.username,access:s.access,slug:s.code,is_active:s.is_active,method:"PUT"}).then((function(n){a(),e.push("/employee")})).catch((function(e){a(),console.log(e.response);var n=e.response.data;o.ZP.error(n.message)})).finally((function(){t(!1)}));case 4:case"end":return n.stop()}}),n)})));return S(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),(0,g.useEffect)((function(){}),[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(f.default,{children:[(0,i.jsx)("title",{children:"Employee - Edit Employee"}),(0,i.jsx)("meta",{name:"description",content:"Edit Employee"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsx)(p.Z,{children:(0,i.jsxs)("div",{style:{padding:"0 24px",marginTop:88},children:[(0,i.jsxs)(d.Z,{children:[(0,i.jsx)(d.Z.Item,{children:"Home"}),(0,i.jsx)(d.Z.Item,{children:(0,i.jsx)(x.default,{href:"/outlets",children:(0,i.jsx)("a",{children:"Employee"})})}),(0,i.jsx)(d.Z.Item,{children:"Tambah"})]}),(0,i.jsx)(c.Z,{className:"site-page-header",title:"Employee",subTitle:"Tambah Employee",onBack:function(){return e.push("/outlets")},style:{padding:0,paddingBottom:16}}),(0,i.jsx)(N,{className:"site-layout",children:(0,i.jsxs)("div",{className:"site-layout-background",style:{padding:24,minHeight:"calc(100vh - (24px + 24px + 24px + 64px))"},children:[(0,i.jsx)("div",{className:"steps-content",style:{marginTop:50},children:(0,i.jsx)(u.Z,{justify:"start",children:(0,i.jsx)(h.Z,{span:16,xl:16,md:24,children:(0,i.jsx)(C,{code:b,name:k,address:w,username:E,phone:T,access:I,is_active:_,jobdesk:P,form:n,onFinish:function(e){console.log(e),q(e)}})})})}),(0,i.jsx)("div",{className:"action",style:{marginTop:20},children:(0,i.jsx)(u.Z,{justify:"start",children:(0,i.jsx)(h.Z,{children:(0,i.jsx)(m.Z,{style:{margin:"0 8px"},type:"primary",onClick:function(){n.submit()},disabled:a,children:"Simpan"})})})})]})})]})})]})}}},function(e){e.O(0,[709,864,183,54,774,888,179],(function(){return n=26153,e(e.s=n);var n}));var n=e.O();_N_E=n}]);